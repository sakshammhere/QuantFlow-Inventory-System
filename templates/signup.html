{% extends "base.html" %}
{% block title %}Signup - Dashboard{% endblock %}
{% block content %}
<style>
.form-card {
  max-width: 420px;
  margin: 36px auto;
  padding: 32px 28px 20px 28px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 1px 16px rgba(0,0,0,0.07), 0 1.5px 4px rgba(50,80,200,0.03);
}

.form-card label {
  display: block;
  margin-bottom: 4px;
  font-size: 15px;
  font-weight: 600;
  color: #222;
}

.form-card input[type="email"],
.form-card input[type="password"],
.form-card input[type="text"] {
  width: 100%;
  padding: 9px 12px;
  margin-bottom: 16px;
  border: 1.2px solid #ccc;
  border-radius: 5px;
  font-size: 15px;
  background: #f4f7fa;
  transition: border-color 0.2s;
}
.form-card input:focus {
  outline: none;
  border-color: #0366d6;
}

.form-card .checkbox-row {
  display: flex;
  align-items: center;
  margin-bottom: 18px;
  font-size: 14px;
}

.form-card input[type="checkbox"] {
  margin-right: 10px;
}

.form-card .terms-link {
  color: #0366d6;
  text-decoration: underline;
  cursor: pointer;
}

.form-card input[type="submit"] {
  width: 100%;
  padding: 12px 0;
  font-size: 17px;
  background-color: #0366d6;
  color: #fff;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  margin-top: 3px;
  margin-bottom: 7px;
}

.form-card input[type="submit"]:hover {
  background-color: #024bab;
}
</style>
<div class="form-card">
  <form id="signupForm" method="POST">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" placeholder="Your full name" required>

    <label for="email">Email address:</label>
    <input type="email" id="email" name="email" placeholder="name@example.com" required>

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" placeholder="Create a password" required>

    <label for="confirm-password">Confirm Password:</label>
    <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password" required>

    <div class="checkbox-row">
      <input type="checkbox" id="terms" required>
      <label style="margin-bottom:0;" for="terms">
        I agree to the <a href="#" id="showTerms" class="terms-link">terms and conditions</a>
      </label>
    </div>

    <input type="submit" value="Sign Up">
  </form>

  <p style="margin-top: 15px; text-align: center;">
    Already have an account? <a href="{{ url_for('login') }}">Login now</a>.
  </p>
</div>

<!-- Terms and Conditions Modal (unchanged) -->
<div id="termsModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5);">
  <div style="background:#fff; max-width:500px; margin:100px auto; padding:20px; border-radius:8px; position:relative;">
    <h2>Terms & Conditions</h2>
    <div style="height:200px; overflow-y:auto; border:1px solid #ccc; padding:10px; margin-bottom:20px;">
      <p>1. By creating an account and using this site, you agree to comply with and be bound by these Terms and Conditions.</p>
      <p>2. You must provide accurate information during signup and keep your account secure.</p>
      <p>3. All content and materials on this site are owned by QuantFlow, unless otherwise stated.</p>
      <p>4. You may not use the site for any unlawful purpose or in a way that could damage or impair the site.</p>
      <p>5. We do not guarantee uninterrupted or error-free service and reserve the right to change or discontinue any part of the service at any time.</p>
      <p>6. Your use of this site is at your own risk. We are not liable for any damages arising from your use of the site.</p>
      <p>7. We may update these Terms and Conditions from time to time. Continued use of the site means you accept the updates.</p>
    </div>
    <button id="agreeBtn" style="padding:10px 20px; margin-right:10px;">Agree and Continue</button>
    <button id="closeBtn" style="padding:10px 20px;">Close</button>
  </div>
</div>

<script>
  document.getElementById('showTerms').addEventListener('click', function(event) {
    event.preventDefault();
    document.getElementById('termsModal').style.display = 'block';
  });

  document.getElementById('closeBtn').addEventListener('click', function() {
    document.getElementById('termsModal').style.display = 'none';
  });

  document.getElementById('agreeBtn').addEventListener('click', function() {
    document.getElementById('termsModal').style.display = 'none';
    document.getElementById('terms').checked = true;
  });

  document.getElementById('signupForm').addEventListener('submit', function(e) {
    if (!document.getElementById('terms').checked) {
      e.preventDefault();
      alert('You must agree to the terms and conditions before signing up.');
    }
  });
</script>
{% endblock %}
