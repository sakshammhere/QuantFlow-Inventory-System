{% extends "base.html" %}
{% block title %}Login - Dashboard{% endblock %}
{% block content %}
<style>

  /* Styles for the login form */

.form-card {
  max-width: 420px;
  margin: 36px auto;
  padding: 32px 28px 20px 28px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 1px 16px rgba(0,0,0,0.07), 0 1.5px 4px rgba(50,80,200,0.03);
}

.form-card label {
  display: block;
  margin-bottom: 5px;
  font-size: 15px;
  font-weight: 600;
  color: #222;
}

.form-card input[type="email"],
.form-card input[type="password"] {
  width: 100%;
  padding: 9px 12px;
  margin-bottom: 18px;
  border: 1.2px solid #ccc;
  border-radius: 5px;
  font-size: 15px;
  background: #f4f7fa;
  transition: border-color 0.2s;
}
.form-card input:focus {
  outline: none;
  border-color: #0366d6;
}

.form-card .error {
  color: #d9534f;
  margin-bottom: 15px;
}

.form-card input[type="submit"] {
  width: 100%;
  padding: 12px 0;
  font-size: 17px;
  background-color: #0366d6;
  color: #fff;
  border: none;
  border-radius: 6px;
  font-weight: bold;
}

.form-card input[type="submit"]:hover {
  background-color: #024bab;
}
</style>

<!-- Login Form -->
<div class="form-card">
  <form id="loginForm" method="POST" onsubmit="return validateEmail();">
    <label for="email">Email address:</label>
    <input type="email" id="email" name="email" placeholder="name@example.com" required>

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" placeholder="Enter your password" required>

    <div id="error-message" class="error"></div>

    <input type="submit" value="Submit">
  </form>
</div>

<script>
  function validateEmail() {
    const emailInput = document.getElementById('email');
    const errorMessage = document.getElementById('error-message');
    const email = emailInput.value.trim();

    const atIndex = email.indexOf('@');
    const dotIndex = email.lastIndexOf('.');
    
    if (
      atIndex < 1 ||
      dotIndex <= atIndex + 1 ||
      dotIndex === email.length - 1
    ) {
      errorMessage.textContent = "Please enter a valid email address.";
      emailInput.focus();
      return false;
    }

    errorMessage.textContent = "";
    return true;
  }
</script>
{% endblock %}
